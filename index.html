<!DOCTYPE html>
<html>

<head>

    <meta charset="UTF-8">

    <script src="./jquery-3.4.1.slim.min.js"></script>
    <script src="./jquery.drawrpalette.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.3/dist/jquery.validate.js"></script>
    <script type="text/javascript" src="./registration.js"></script>
    <script type="text/javascript" src="./login.js"></script>
    <script type="text/javascript" src="./setup.js"></script>
    <script type="text/javascript" src="./siteFunctionality.js"></script>
    <script type="text/javascript" src="./app.js"></script>
    <script src="validate.js"></script>
    <link rel="stylesheet" type="text/css" href="pac.css" />
</head>

<body>

    <div class="navbar">
        <ul>
            <li class=nav><button type="button" class=nav_link onclick="show_div('welcom')">Welcom</button></li>
            <li class=nav><button class=nav_link onclick="show_div('register')">Register</button></li>
            <li class=nav><button class=nav_link onclick="show_div('Login')">Login</button></li>
            <li class=nav><button class=nav_link onclick="modal_handler('about')">About</button></li>
        </ul>
    </div>

    <div class="section" id="game_container" style="display: none;">
        <div class="update_pram">
            <div id="score">
                <label for="lblScore" style='font-size:20px;'>&#x1F3C6:</label>
                <input id="lblScore" type="text" style="width: 10%; font-size: 15px;" />
            </div>
            <div id="life">
                <label for="lblLife" style='font-size:20px;'>&#128151:</label>
                <input id="lblLife" type="text" style="width: 10%; font-size: 15px;" />
                <span style="display: none;">+1 &#128151</span>
            </div>
            <div id="time">
                <label for="lblTime" style='font-size:20px;'>&#8987:</label>
                <input id="lblTime" type="text" style="width: 10%; font-size: 15px;" />
                <span style="display: none;">+10 &#8987</span>
            </div>
        </div>

        <div class="prop_display" id="prop_display">
            <table id="myTable" style="display: none;">

                <tr>
                    <td>UserName: </td>
                    <td id='currUserName'></td>
                </tr>
                <tr>
                    <tr>
                        <td>To move right press: </td>
                        <td id='Rbutton'></td>
                    </tr>
                    <tr>
                        <td>To move left press: </td>
                        <td id='Lbutton'></td>
                    </tr>
                    <tr>
                        <td>To move up press: </td>
                        <td id='Ubutton'></td>
                    </tr>
                    <tr>
                        <td>To move down press: </td>
                        <td id='Dbutton'></td>
                    </tr>
                    <tr>
                        <td>Number of balls is: </td>
                        <td id='Nball'></td>
                    </tr>
                    <tr>
                        <td>Number of mansters is: </td>
                        <td id='Nmanster'></td>
                    </tr>
                    <tr>
                        <td>Game lenght(in sec) is: </td>
                        <td id='gameLen'></td>
                    </tr>
            </table>
        </div>

        <div id="game">
            <canvas class="game_board" id="canvas" height="400" width="800"></canvas>
        </div>
    </div>

    <div class="section" id="welcom" style="display: block;">
        <h1 class="title">Welcome</h1>
        <div id="lwelcome">
            <button class='before_game' style="width: 20%;" onclick="show_div('Login')">Login</button>
        </div>
        <br><br>
        <div id="rwelcome">
            <button class="before_game" style="width: 20%;" onclick="show_div('register')">Register</button>
        </div>
    </div>
    </div>

    <div class="section" id="register" style="display: none;">
        <form class="form" id="regform" name="regform" method="get">
            <div class=c ontainer>
                <h1 class="title">Registration</h1>
                <p>
                    <label for="rusername">User Name</label>
                    <input type="text" name="rusername" id="rusername" required><br/>
                </p>
                <p>
                    <label for="rpassword">Password</label>
                    <input type="password" name="rpassword" id="rpassword"><br/>
                </p>

                <p>
                    <label for="rfullname">Full Name</label>
                    <input type="text" name="rfullname" id="rname"><br/>
                </p>
                <p>
                    <label for="remail">Email</label>
                    <input type="email" name="remail" id="rmail"><br/>
                </p>
                <p>
                    <label for="rdate">Date of Birth</label>
                    <input type="date" name="rdate" id="rdate"><br/>
                </p>
                <p>
                    <button class="before_game" id="submit" type="button" onclick="save_user()">Submit</button>
                </p>
            </div>
        </form>
    </div>


    <div class="section" id="Login" style="display: none;">
        <form class="form" id="Login_sec">
            <div class="form"></div>
            <h1 class="title">Login</h1>
            <p>
                <label for="lusername">User Name</label>
                <input id="lusername_fill" type="text" required>
            </p>
            <p>
                <label for="lpassword">Password</label>
                <input id="lpassword_fill" type="password" required>
            </p>
            </br>
            <p>
                <button class="before_game" type="button" onclick="checkLoginValid('usename_err','pass_err')">Login</button>
                <label id="usename_err" class="error">username does not exist! Try Again!</label>
                <label id="pass_err" class="error">Invalid password! Try Again!</label>
                <br>
            </p>
    </div>

    </form>
    </div>
    <div class="section" id="setup" style="display: none;">
        <h1 class="title">Game Setup</h1>
        <h2 class="text">Selecting Your Game Settings Please</h2>
        <div class="setup">
            <div class="choose_setup">
                <h3 class="text">Click 'Customize Setting' To Initialize Game Setting By Your Self</h3>
                <button class="before_game" type="button" onclick="show_div('select_keys')">Customize Setting</button>
                <span class="tooltiptext" id="Customize_Setting_explain">By clicking on 'Customize Setting' you will need to choose buttons, difficulty and time </span>
                </br>
            </div>
            <h3 class="text">Or</h3>
            <div class="choose_setup">
                <h3 class="text">Click 'Start With Randomize Setting'</h3>
                <button class="before_game" type="button" onclick="random_setup()">Start With Randomize Setting</button>
                <span class="tooltiptext" id="random_setup_explain">By clicking on 'Start With Randomize Setting' you will get<br> 
                defult buttons to move with and random game properties</span>
            </div>
        </div>
    </div>

    <div class="Customize_Setting">
        <div class="section" id="select_keys" style="display: none;">
            <h1 class="title">Setting The Game Buttons</h1>
            <br>
            <br><br>
            <form class="form" id="buttonsForm">
                <label class="lablesButtons"><strong>Enter Your Moves Buttons:</strong></label><br>
                <br><br>
                <label class="lablesButtons"><strong>please press the button to move right</strong></label>
                <input id="rightBotton" type="text" maxlength="1" onkeydown="uniKeyCode(event,'rightBotton')">
                <br><br>
                <label class="lablesButtons"><strong>please press the button to move left</strong></label>
                <input id="leftBotton" type="text" maxlength="1" onkeydown="uniKeyCode(event,'leftBotton')">
                <br><br>
                <label class="lablesButtons"><strong>please press the button to move up</strong></label>
                <input id="upBotton" type="text" maxlength="1" onkeydown="uniKeyCode(event,'upBotton')">
                <br><br>
                <label class="lablesButtons"><strong>please press the button to move down</strong></label>
                <input id="downBotton" type="text" maxlength="1" onkeydown="uniKeyCode(event,'downBotton')">
                <br>
                <label id="key_error" class="error">Please enter uniqe key for each one</label><br />
                <br><br>
                <button class="before_game" type="button" id="check_buttons" onclick="save_buttons()">Save Buttons</button>
                <br>
                <button class="before_game" type="button" id="next_step" style="display: none; align-self: center; " onclick="show_div('ball_setup')">Move To Next Step</button>
            </form>
        </div>

        <div class="section" id="ball_setup" style="display: none;">
            <br>
            <br><br>
            <form class="form" id="balls_form" name="balls_form">
                <h1 class="title"><strong>Write The Desirable Number Of Balls In The Game (Between 50 To 90):</strong></h1>
                <br><br>
                <input id="numBalls" name="numBalls" type="text">
                <br>
                <label class="error" id="balls_err">Invalid Number Of Balls</label>
                <label class="error" id="balls_ok">valid Number Of Balls!<br> Can Advance To The Next Stage</label>
                <br><br>
                <button class="before_game" id="check_nballs" name="check_nballs" type="button" onclick="save_num_ball()">Save</button>
                <br><br>
                <div class="choose_setup">
                    <button class="before_game" type="button" id="end_ball_num" disabled onclick="show_div('balls_color')">Next</button>
                    <span class="tooltiptext" id="Nball">You Can Only Continue After Inserting And Saving A Valid Number Of Balls </span>
                </div>
            </form>
        </div>

        <div class="section" id="balls_color" style="display: none;">
            <br>
            <br><br>
            <p>
                <h1 class="title"><strong>Choose Different Colors For 3 Type Of Balls:</strong></h1>
            </p>
            <table>
                <tr>
                    <th>
                        <label class="color_lable"><strong>5 Points Ball Color:</strong> </label>
                    </th>
                    <th>
                        <label class="color_lable"><strong>15 Points Ball Color:</strong> </label>
                    </th>
                    <th>
                        <label class="color_lable"><strong>25 Points Ball Color: </strong></label>
                    </th>
                </tr>
                <tr>
                    <td id="color5p">
                        <br><br>
                        <label class="color_lable"><strong>Please Select color 1:</strong></label>
                        <input class="c1" type="text" id="col1n" value="#222222"><br>
                        <div class="displayColor" id="color1"></div>
                    </td>
                    <td id="color15p">
                        <br><br>
                        <label class="color_lable"><strong>Please Select color 2:</strong></label>
                        <input class="c1" type="text" id="col2n" value="#222222"><br>
                        <div class="displayColor" id="color2"></div>
                    </td>
                    <td id="color25p">
                        <br><br>
                        <label class="color_lable"><strong>Please Select color 3:</strong></label>
                        <input class="c2" type="text" id="col3n" value="#222222"><br>
                        <div class="displayColor" id="color3"></div>
                    </td>
                </tr>
            </table>
            <br>
            <p>
                <button class="before_game" type="button" onclick="save_color()">Next</button><br>
            </p>
        </div>

        <div class="section" id="Game_time" style="display: none;">
            <br><br>
            <form class="form" id="time_form" name="time_form">
                <h1 class="title"><strong>Insert The Desirable Time in Seconds (60 seconds Or More):</strong></h1>
                <br><br>
                <input id="time_game" name="time_game" type="text" name="time" autofocus>
                <br><br>
                <button class="before_game" type="button" id="save_time" name="save_time" onclick="saveTime()">Save</button>
                <br><br>
                <div class="next">
                    <button class="before_game" type="button" id="finish_time" name="finish_time" disabled onclick="show_div('Monsters')">Next</button>
                </div>
            </form>
        </div>
        <div class="section" id="Monsters" style="display: none;">
            <br>
            <form class="form" id="Monsters_form" name="Monsters_form">
                <h1 class="title"><strong>Write Number Of Monsters:</strong></h1>
                <br>
                <lable class="monster_lable" style="font-size: 40px; color: white;">(Between 1 To 4 include)</lable>
                <br><br>
                <input id="Nmonster" type="text" name="Nmonster" required>
                <br><br>
                <button class="before_game" type="button" id="save_monster" name="save_monster" onclick="Save_monsters()">Save</button>
                <br><br>
                <button class="before_game" type="button" id="finish_monster" disabled>Submit</button>
            </form>
        </div>
    </div>

    <!-- modals -->

    <dialog class="modal" id="about">
        <div class="modal-content">
            <div class="modal-header">
                <span class="closeModal">&times;</span>
                <h1>About Us</h1>
            </div>
            <div class="modal-body">
                <h2><span>we are: Inbal Bitton and  Noa Shabtay</span></h2>
                <h2><span>PlugIn: to make the validation form we used this links :</span></h2>
                <h3><span>https://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.1.3.min.js</span><br> https://ajax.aspnetcdn.com/ajax/jquery.validate/1.13.0/jquery.validate.min.js
                    <br> https://ajax.aspnetcdn.com/ajax/jquery.validate/1.13.0/additional-methods.min.js
                    </span>
                </h3>
                <h2><span>Difficulties:</span></h1>
                    <h3><span>In the beginning we had difficulty connecting the scripts to html.<br> 
                    After many attempts we study the subject ans the work was much simpler</span></h3>
                    <button class="modalBtn" onclick="document.getElementById('about').style.display='none'">Close</button>
            </div>
        </div>
    </dialog>

    <dialog class="modal" id="registerModal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="closeModal">&times;</span>
                <h1><span style="font-size: 40px; color: rgb(180, 58, 13);">Registration has been successfully completed</span></h1>
            </div>
            <div class="modal-body">
                <h2><span style="font-size: 40px; color: rgb(180, 58, 13);">Thank you for registering our game</span></h2>
                <h3><span style="font-size: 40px; color: rgb(180, 58, 13);">Now its time for Packman!!!</span><br>
                    <button class="modalBtn" onclick="close_modal_move_to_setup('registerModal')">continue</button>
            </div>
        </div>
    </dialog>

    <dialog class="modal" id="loginModal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="closeModal">&times;</span>
                <h1><span style="font-size: 40px; color: rgb(180, 58, 13);">You have been logged in successfully</span></h1>
            </div>
            <div class="modal-body">
                <h3><span style="font-size: 40px;color: rgb(180, 58, 13);">Please click the continue button<br><br> and toghter fight the covid 19</span><br>
                    <button class="modalBtn" onclick="close_modal_move_to_setup('loginModal')">continue</button>
            </div>
        </div>
    </dialog>

    <dialog class="modal" id="gameEnd">
        <div class="modal-content">
            <div class="modal-header">
                <span class="closeModal">&times;</span>
                <span><h1 id = 'usr-name'  style="font-size: 40px; color: rgb(180, 58, 13);">End message:</h1></span>
                <span><h1 id = 'endMsg'  style="font-size: 40px; color: rgb(180, 58, 13);">End message:</h1></span>
            </div>
            <div class="modal-body">
                <button class="modalBtn" onclick="show_div('welcom')">Home</button>
                <button class="modalBtn" onclick="close_modal_move_to_setup('gameEnd')">New Game</button>
            </div>
        </div>
    </dialog>
</body>

</html>